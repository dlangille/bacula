<%@ MasterClass="Application.Web.Layouts.Main" Theme="Baculum-v2"%>
<com:TContent ID="Main">
	<!-- Header -->
	<header class="w3-container">
		<h5>
			<b><i class="fa fa-plus"></i> &nbsp;<%[ New ]%> <%=$this->getResourceType()%></b>
		</h5>
	</header>
	<button type="button" class="w3-button w3-green w3-margin-left w3-margin-bottom" onclick="document.getElementById('new_resource').style.display = 'block'">
		<i class="fa fa-plus"></i> &nbsp;<%=Prado::localize('Add new resource')%>
	</button>
	<div id="resource_save_ok" class="w3-panel w3-green w3-display-container" style="display: none">
		<span onclick="this.parentElement.style.display='none'" class="w3-button w3-green w3-large w3-display-topright">x</span>
		<p><%[ Resource has been saved successfully. ]%></p>
	</div>
	<div id="new_resource" class="w3-modal">
		<div class="w3-modal-content w3-animate-top w3-card-4 w3-padding">
			<header class="w3-container"> 
				<span onclick="document.getElementById('new_resource').style.display='none'" class="w3-button w3-display-topright">&times;</span>
				<h2><%[ Add new resource ]%></h2>
			</header>
			<div class="w3-row w3-margin">
				<div class="w3-third"><%[ Host: ]%></div>
				<div class="w3-third">
					<com:TActiveDropDownList
						ID="Host"
						CssClass="w3-select w3-border"
						OnSelectedIndexChanged="setComponents"
					>
						<prop:ClientSide.OnLoading>
							document.getElementById('component_loader').style.display = '';
						</prop:ClientSide.OnLoading>
						<prop:ClientSide.OnComplete>
							document.getElementById('component_loader').style.display = 'none';
						</prop:ClientSide.OnComplete>
					</com:TActiveDropDownList>
				</div>
			</div>
			<div class="w3-row w3-margin">
				<div class="w3-third"><%[ Component: ]%></div>
				<div class="w3-third">
					<com:TActiveDropDownList
						ID="Component"
						CssClass="w3-select w3-border"
						OnSelectedIndexChanged="setResource"
					>
						<prop:ClientSide.OnLoading>
							document.getElementById('resource_loader').style.display = '';
						</prop:ClientSide.OnLoading>
						<prop:ClientSide.OnComplete>
							document.getElementById('resource_loader').style.display = 'none';
						</prop:ClientSide.OnComplete>
					</com:TActiveDropDownList>
				</div>
				<i id="component_loader" class="fa fa-sync w3-spin w3-margin-left w3-margin-top" style="display: none"></i>
			</div>
			<div class="w3-row w3-margin">
				<div class="w3-third"><%[ Resource to create: ]%></div>
				<div class="w3-third">
					<com:TActiveDropDownList
						ID="Resource"
						CssClass="w3-select w3-border"
					/>
					<com:TRequiredFieldValidator
						ValidationGroup="NewResource"
						Display="Dynamic"
						ControlToValidate="Resource"
						FocusOnError="true"
						Text="<%[ Field required. ]%>"
					/>
				</div>
				<i id="resource_loader" class="fa fa-sync w3-spin w3-margin-left w3-margin-top" style="display: none"></i>
			</div>
			<com:TActiveLabel ID="NewResourceLog" Display="None" CssClass="w3-panel w3-margin w3-text-red" />
			<div class="w3-row w3-margin w3-center">
				<com:TLinkButton
					CssClass="w3-button w3-green w3-margin-left"
					OnClick="createResource"
					CausesValidation="true"
					ValidationGroup="NewResource"
				>
					<prop:Text>
						<i class="fa fa-plus"></i> &nbsp;<%=Prado::localize('Create')%>
					</prop:Text>
				</com:TLinkButton>
			</div>
		</div>
	</div>
	<div id="resource_config" class="w3-container">
		<com:Application.Web.Portlets.BaculaConfigDirectives
			ID="NewResource"
			SaveDirectiveActionOk="$('#resource_config').slideUp(); $('#resource_save_ok').show();"
			ShowRemoveButton="false"
			ShowCancelButton="false"
		/>
	</div>
</com:TContent>
